<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>word guessing game</title>
  </head>

  <body>
    <h1>word guessing game</h1>

    <div id="game">
      <p id="lifeDisplay"></p>

      <input
        type="text"
        id="guess"
        name="guess"
        placeholder="enter letter"
        maxlength="1"
      />
      <button onclick="submitLetter()">submit</button>
      <p id="wordDisplay"></p>
      <h3>used letters</h3>
      <p id="usedLetter"></p>
    </div>

    <div id="losemesage" class="hidden">
      <button onclick="playagein()">play agein</button>
      <p>you lose</p>
    </div>
    <div id="winmesage" class="hidden">
      <button onclick="playagein()">play agein</button>
      <p>you win</p>
    </div>
  </body>
</html>
<style>
  body {
    background-color: cyan;
  }
  .hidden {
    display: none;
  }
</style>
<script>
  const words = [
    "husband",
    "pastel",
    "original",
    "calendar",
    "quarter",
    "extend",
    "illusion",
    "information",
    "sculpture",
    "read",
    "brick",
    "magnetic",
    "choice",
    "hell",
    "sweater",
    "find",
    "parking",
    "aunt",
    "doll",
    "final",
    "deteriorate",
    "cruel",
    "cold",
    "colorful",
    "fish",
    "insure",
    "midnight",
    "exaggerate",
    "parameter",
    "plastic",
  ];

  var lives = 8;
  var answersArray = [];
  var usedLetters = [];
  var selectedWord = words[Math.floor(Math.random() * words.length)];
  for (let i = 0; i < selectedWord.length; i++) {
    answersArray[i] = "_";
  }
  var remainingLetters = selectedWord.length;

  console.log(selectedWord);

  renderGame();
  function renderGame() {
    document.getElementById("wordDisplay").innerText = answersArray.join(" ");
    document.getElementById("usedLetter").innerText = usedLetters.join(" ");
    document.getElementById("lifeDisplay").innerText = lives + " lives";
  }
  function submitLetter() {
    var submittedLetter = document.getElementById("guess").value;

    //Add to this if using || (or) and check if submittedLetter is in usedArray
    if (
      answersArray.includes(submittedLetter) ||
      usedLetters.includes(submittedLetter)
    ) {
      alert("already used this letter");
      return;
    } else if (selectedWord.includes(submittedLetter)) {
      for (let i = 0; i < selectedWord.length; i++) {
        if (submittedLetter == selectedWord[i]) {
          answersArray[i] = submittedLetter;

          remainingLetters = remainingLetters - 1;
          if (remainingLetters == 0) {
            var element = document.getElementById("game");
            element.classList.add("hidden");
            var element = document.getElementById("winmesage");
            element.classList.remove("hidden");
          }
        }
      }
    } else {
      alert("incorrect");
      lives = lives - 1;
      if (lives == 0) {
        var element = document.getElementById("game");
        element.classList.add("hidden");
        var element = document.getElementById("losemesage");
        element.classList.remove("hidden");
      }
    }
    usedLetters.push(submittedLetter);
    renderGame();
  }
</script>
